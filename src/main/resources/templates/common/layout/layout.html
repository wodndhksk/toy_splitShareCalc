<!DOCTYPE html>
<!--라이브러리 참조 : Thymeleaf & Thymeleaf Layout -->
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <!--공통 JS / CSS 영역을 관리하는 환경 영역-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
</head>
<style>
    @font-face {
        font-family: 'DungGeunMo-Regular';
        src: url('https://cdn.jsdelivr.net/gh/wooin21/web/fonts/etc/DungGeunMo-Regular.woff');
        font-weight: normal;
        font-style: normal;
    }

    body {
        font-family: 'DungGeunMo-Regular';
    }
    .item .card:hover {border: #0D0D0D 1px solid;}
</style>
<body>
<div class="container">
<!--Header 영역-->
<th:block th:replace="~{common/fragments/navHeader :: header}"></th:block>
<br>
<!--Content 내용 영역-->
<th:block layout:fragment="content"></th:block>

<!--Footer 영역-->
<!--<footer th:replace="common/fragments/footer :: FooterFragment"></footer>-->
</div>

<script>
    let userCount = 1
    let totalCount = 1

    // Username 추가 버튼 함수
    function addUserBtn(){

        if(totalCount > 6){
            return alert(`${totalCount} 이상 추가 하실 수 없습니다`)
        }

        let newElement = document.createElement('div');
        newElement.className = "row";
        newElement.id = 'user-' + userCount;
        newElement.innerHTML = `<div class="input-group flex-nowrap ms-1">`
            + `<input type="text" class="form-control" placeholder="Username" aria-label="Username" aria-describedby="addon-wrapping">`
            + `<div id="addBtn">`
            + `<a class="btn btn-primary" id="addUserBtn" onclick="addUserBtn()">+</a>`
            + `</div>`
            + `<a class="btn btn-danger" id="delUserBtn" onclick="delUserBtn(${userCount})">-</a>`
            + `</div>`

        // 추가된 버튼에서만 '+' 버튼 보이게 처리
        let element = document.querySelector(`#user-${userCount-1}`);
        element.querySelector('#addBtn').remove();

        // Username input 태그 append 처리
        document.getElementById(`user-${userCount-1}`).insertAdjacentElement('afterend', newElement);
        userCount++;
        totalCount++;
    }

    // Username 삭제 버튼 함수
    function delUserBtn(num){
        console.log(num);
        if(totalCount <= 1){
            return alert("User 가 하나 이하입니다.")
        }
        document.querySelector(`#user-${num}`).remove();
        totalCount--;
    }
</script>
</body>
</html>